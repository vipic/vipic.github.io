function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{A as c,a as I,b as O,E as T,c as _,i as h,d as H,e as j,D as R,_ as U,I as z,f as P}from"./astro/assets-service.DcMRmNXG.js";import{m as J}from"./hoisted.c2cqiXQX.js";import{a as f,c as L,r as w,m as k}from"./render-template.CAq0-iTr.js";const x="4.2.4";function D(){return a=>{if(typeof a=="string")throw new c({...I,message:I.message(JSON.stringify(a))});let e=[...Object.values(a)];if(e.length===0)throw new c({...O,message:O.message(JSON.stringify(a))});return Promise.all(e.map(r=>r()))}}function E(t){return{site:t?new URL(t):void 0,generator:`Astro v${x}`,glob:D()}}function g(t={},a,{class:e}={}){let r="";e&&(typeof t.class<"u"?t.class+=` ${e}`:typeof t["class:list"]<"u"?t["class:list"]=[t["class:list"],e]:t.class=e);for(const[i,n]of Object.entries(t))r+=f(n,i,!0);return J(r)}async function M(){if(!globalThis?.astroAsset?.imageService){const{default:t}=await U(()=>import("./astro/assets-service.DcMRmNXG.js").then(a=>a.s),__vite__mapDeps([])).catch(a=>{const e=new c(z);throw e.cause=a,e});return globalThis.astroAsset||(globalThis.astroAsset={}),globalThis.astroAsset.imageService=t,t}return globalThis.astroAsset.imageService}async function N(t,a){if(!t||typeof t!="object")throw new c({...T,message:T.message(JSON.stringify(t))});if(typeof t.src>"u")throw new c({..._,message:_.message(t.src,"undefined",JSON.stringify(t))});const e=await M(),r={...t,src:typeof t.src=="object"&&"then"in t.src?(await t.src).default??await t.src:t.src},i=h(r.src)?r.src.fsPath:r.src,n=h(r.src)?r.src.clone??r.src:r.src;r.src=n;const o=e.validateOptions?await e.validateOptions(r,a):r,b=e.getSrcSet?await e.getSrcSet(o,a):[];let m=await e.getURL(o,a),l=await Promise.all(b.map(async s=>({transform:s.transform,url:await e.getURL(s.transform,a),descriptor:s.descriptor,attributes:s.attributes})));if(H(e)&&globalThis.astroAsset.addStaticImage&&!(j(o.src)&&m===o.src)){const s=e.propertiesToHash??R;m=globalThis.astroAsset.addStaticImage(o,s,i),l=b.map(d=>({transform:d.transform,url:globalThis.astroAsset.addStaticImage(d.transform,s,i),descriptor:d.descriptor,attributes:d.attributes}))}return{rawOptions:r,options:o,src:m,srcSet:{values:l,attribute:l.map(s=>`${s.url} ${s.descriptor}`).join(", ")},attributes:e.getHTMLAttributes!==void 0?await e.getHTMLAttributes(o,a):{}}}const V=E("https://vipic.github.io"),q=L(async(t,a,e)=>{const r=t.createAstro(V,a,e);r.self=q;const i=r.props;if(i.alt===void 0||i.alt===null)throw new c(P);typeof i.width=="string"&&(i.width=parseInt(i.width)),typeof i.height=="string"&&(i.height=parseInt(i.height));const n=await A(i),o={};return n.srcSet.values.length>0&&(o.srcset=n.srcSet.attribute),w`${k()}<img${f(n.src,"src")}${g(o)}${g(n.attributes)}>`},"/home/runner/work/blog/blog/node_modules/astro/components/Image.astro",void 0),B=E("https://vipic.github.io"),G=L(async(t,a,e)=>{const r=t.createAstro(B,a,e);r.self=G;const i=["webp"],n="png",o=["gif","svg","jpg","jpeg"],{formats:b=i,pictureAttributes:m={},fallbackFormat:l,...s}=r.props;if(s.alt===void 0||s.alt===null)throw new c(P);const d=await Promise.all(b.map(async y=>await A({...s,format:y,widths:s.widths,densities:s.densities})));let $=l??n;!l&&h(s.src)&&o.includes(s.src.format)&&($=s.src.format);const p=await A({...s,format:$,widths:s.widths,densities:s.densities}),v={},S={};return s.sizes&&(S.sizes=s.sizes),p.srcSet.values.length>0&&(v.srcset=p.srcSet.attribute),w`${k()}<picture${g(m)}> ${Object.entries(d).map(([y,u])=>{const F=s.densities||!s.densities&&!s.widths?`${u.src}${u.srcSet.values.length>0?", "+u.srcSet.attribute:""}`:u.srcSet.attribute;return w`<source${f(F,"srcset")}${f("image/"+u.options.format,"type")}${g(S)}>`})} <img${f(p.src,"src")}${g(v)}${g(p.attributes)}> </picture>`},"/home/runner/work/blog/blog/node_modules/astro/components/Picture.astro",void 0),K={service:{entrypoint:"astro/assets/services/sharp",config:{}},domains:["webmention.io"],remotePatterns:[]};new URL("file:///home/runner/work/blog/blog/dist/");const A=async t=>await N(t,K);export{A as g,g as s};
